% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/channel_info2.R
\name{detect_electrode_naming_system}
\alias{detect_electrode_naming_system}
\title{============================================================================
Detect Electrode Naming System in EEG Dataset}
\usage{
detect_electrode_naming_system(file_path)
}
\arguments{
\item{file_path}{Character - full path to the BioSemi .bdf file}
}
\value{
List with the following components:
\describe{
\item{naming_system}{Character. One of:
- "10-20/10-10" = Standard international electrode naming
- "BioSemi_AB" = BioSemi internal A1-A32 + B1-B32 naming (64 electrodes)
- "Mixed" = Both standard and BioSemi naming detected
- "Unknown" = Unrecognized naming convention
}
\item{confidence}{Numeric (0-1). Confidence score based on percentage
of recognized electrodes. 1.0 = 100\% match to identified system.
}
\item{channels_detected}{Data frame containing all channel information
with columns:
- channel_number: Channel index
- channel_name: Original channel name from BDF
- naming_type: Classification (Standard 10-20/10-10, BioSemi A/B, External, etc.)
- system_category: Primary system category
- standard_equivalent: 10-20/10-10 name if BioSemi detected (or NA)
}
\item{summary}{Character vector with human-readable summary of findings:
- Number of channels in each system
- Unrecognized channels (if any)
- Recommendation for next steps
}
\item{detailed_breakdown}{List with counts by system type:
\describe{
\item{standard_10_20}{Integer. Count of recognized 10-20 electrodes}
\item{standard_10_10}{Integer. Count of recognized 10-10 electrodes}
\item{biosemi_a}{Integer. Count of BioSemi A1-A32 electrodes}
\item{biosemi_b}{Integer. Count of BioSemi B1-B32 electrodes}
\item{external}{Integer. Count of external channels (EOG, ECG, etc.)}
\item{unrecognized}{Integer. Count of unrecognized channels}
}
}
}
}
\description{
Automatically identifies whether electrodes in a BioSemi BDF file are coded
using standard international notation (10-20/10-10 system) or BioSemi's
internal classification system (A1-A32, B1-B32).
}
\details{
This function performs automatic detection of electrode naming conventions
by analyzing channel names from the BDF file header. It:
\enumerate{
\item \strong{Extracts channel names} from the BDF file header (fast, no signal data)
\item \strong{Classifies each channel} against known naming patterns:
\itemize{
\item Standard 10-20: Fp1, Fpz, Cz, Pz, O1, O2, etc.
\item Standard 10-10: AF3, FC5, CP3, PO3, etc.
\item BioSemi A-series: A1-A32 (64-channel cap)
\item BioSemi B-series: B1-B32 (64-channel cap)
\item External: EXG1-EXG8 (reference electrodes shown as green in BioSemi layout)
\item Status: Status/trigger channel
}
\item \strong{Provides BioSemi-to-Standard mapping} using official BioSemi 64-electrode
cap layout (A1-A32 + B1-B32 mapped to 10-20/10-10 positions)
\item \strong{Calculates confidence} based on percentage of channels correctly
classified within detected system
\item \strong{Provides detailed breakdown} of findings with actionable recommendations
}

\strong{BioSemi 64-Channel Layout (from official documentation):}

The function uses the official BioSemi mapping:
\itemize{
\item A1-A32: First 32 electrodes (mixed 10-20 and 10-10 positions)
\item B1-B32: Second 32 electrodes (mixed 10-20 and 10-10 positions)
\item External references (green circles in layout): EXG1-EXG8
}

\strong{Why This Matters:}

BioSemi hardware records with internal A1-A32/B1-B32 labeling, but many
analysis pipelines expect standard 10-20/10-10 names. This function helps you:
\itemize{
\item Identify if channel mapping is needed
\item Get the exact 10-20/10-10 equivalent for each BioSemi channel
\item Choose appropriate preprocessing pipeline
\item Verify expected electrode layout
\item Document your data naming convention
}

\strong{Important Notes:}
\itemize{
\item Matching is \strong{case-sensitive} (e.g., "Cz" recognized, "cz" is not)
\item The function reads \strong{header only} (very fast, ~50-100 ms)
\item Works with any BioSemi BDF file format
\item External channels (EXG1-EXG8) are recognized as reference electrodes
}
}
\examples{
\dontrun{

  # Example 1: Check a BioSemi file with standard naming
  result <- detect_electrode_naming_system("data/subject_01.bdf")
  print(result$naming_system)      # "10-20/10-10"
  print(result$confidence)         # 1.0
  print(result$summary)            # Detailed summary

  # Example 2: Check a file with BioSemi internal naming
  result <- detect_electrode_naming_system("data/biosemi_subject.bdf")
  print(result$naming_system)      # "BioSemi_AB"
  print(result$confidence)         # 1.0
  
  # See the mapping from BioSemi to standard names
  View(result$channels_detected[, c("channel_name", "standard_equivalent")])
  
  # Export mapping for reference
  write.csv(result$channels_detected, "biosemi_mapping.csv", row.names = FALSE)

  # Example 3: Batch processing multiple files
  files <- list.files("data/", pattern = ".bdf$", full.names = TRUE)

  for (file in files) {
    result <- detect_electrode_naming_system(file)
    cat("File:", basename(file), "\n")
    cat("System:", result$naming_system, "\n")
    cat("Confidence:", result$confidence, "\n\n")
  }

  # Example 4: Using results for conditional processing
  result <- detect_electrode_naming_system("data/subject_01.bdf")

  if (result$naming_system == "BioSemi_AB") {
    cat("BioSemi internal naming detected\n")
    cat("Mapping available in result$channels_detected$standard_equivalent\n")
    # Apply mapping or use standard_equivalent column
  } else if (result$naming_system == "10-20/10-10") {
    cat("Already in standard format, ready to process\n")
    # Proceed with analysis
  }
}

}
\keyword{internal}
