% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/readbdf_interactive.R
\name{read_biosemi_interactive}
\alias{read_biosemi_interactive}
\title{Read BioSemi BDF File (Interactive + Chunked Backend)}
\usage{
read_biosemi_interactive(file_path, interactive = TRUE, downsample_to = NULL)
}
\arguments{
\item{file_path}{Character string with full path to the .bdf file
Example: "/Users/user/data/subject_01.bdf"}

\item{interactive}{Logical. If TRUE (default), prompts user about downsampling
when high sampling rates (>512 Hz) are detected. Set FALSE for batch processing.}

\item{downsample_to}{Numeric. Target sampling rate in Hz for automatic downsampling.
If NULL (default), uses interactive prompts. If specified, automatically
downsamples without prompting.}
}
\value{
An object of class 'eeg' containing:
\describe{
\item{data}{Matrix of EEG signal values (channels Ã— time points)}
\item{channels}{Character vector of EEG channel names}
\item{sampling_rate}{Numeric - sampling rate in Hz}
\item{times}{Numeric vector - time points in seconds}
\item{events}{Data frame - event markers (onset, type, description)}
\item{metadata}{List - recording information and file metadata}
\item{reference}{Character - reference scheme (Biosemi CMS/DRL)}
\item{preprocessing_history}{List - processing steps applied}
}
}
\description{
This is the main function to import EEG data from a BioSemi .bdf file.
It reads the binary file, extracts all EEG channels and metadata,
parses event triggers, and returns a properly structured eeg object
ready for analysis.
}
\details{
It can:
\itemize{
\item Use edfReader::readEdfSignals() (standard backend)
\item Use a chunked low-level reader for huge/high-rate files (fast path)
\item Prompt intelligently about downsampling based on sampling rate and file size
}

The function performs the following steps:
\enumerate{
\item Validates the file exists and has .bdf extension
\item Reads the BDF header using edfReader::readEdfHeader()
\item Chooses between edfReader backend and chunked low-level reader
\item Extracts channel names, sampling rate, and recording metadata
\item Separates EEG channels from status/trigger channel (if using edfReader path)
\item Extracts and parses event markers from status channel
\item (Optional) Intelligently prompts for downsampling if rate > 512 Hz
\item Returns an eeg object with all data and metadata
}

The status channel is typically:
\itemize{
\item Named "Status" in BioSemi recordings
\item Contains trigger codes corresponding to experimental events
\item Bit values encode different triggers (0, 1, 2, 4, 8, etc.)
\item Used to epoch data around events of interest
}
}
\examples{
\dontrun{
# Load with interactive downsampling prompt
eeg <- read_biosemi_interactive("~/data/experiment/subject_01.bdf")

# Load and downsample automatically to 512 Hz
eeg <- read_biosemi_interactive("~/data/subject_01.bdf", downsample_to = 512)

# Batch processing without prompts
files <- list.files(pattern = "\\\\.bdf$")
data_list <- lapply(files, function(f) {
  read_biosemi_interactive(f, interactive = FALSE, downsample_to = 256)
})

# View summary information
print(eeg)

# Access components
head(eeg$data)        # First rows of EEG data
eeg$channels          # Channel names
eeg$sampling_rate     # Sampling rate
eeg$events            # Event table
eeg$metadata          # Recording metadata
}

}
